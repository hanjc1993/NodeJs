<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>测试</title>
    <script src="jquery-3.2.1.js" type="text/javascript"></script>
    <script>
        function func(act) {
            $.get('/login?',{
                act:act,
                user:$('#user').val(),
                pass:$('#pass').val()
            },function (data,status) {
                if(status == 'error'){
                    alert('请求失败')
                }else{
                    console.log(data);
                    //express框架返回的data直接就是对象，无需转义
                    //let json = eval('('+data+')');
                    if (data.ok){
                        if(act == 'login'){
                            alert('登录成功')
                        }
                        //else{alert('注册成功')}//这是reg部分
                    }else {alert('失败： '+ data.msg)}
                }
            })
        }
    </script>
</head>
<body>
    用户名：<input type="text" id="user"><br>
    密码  ：<input type="password" id="pass"><br>
    <input type="submit" value="登录" onclick="func('login')">
    <!--<input type="submit" value="注册" onclick="func('reg')">-->
</body>
</html>